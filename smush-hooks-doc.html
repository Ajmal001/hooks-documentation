
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Smush Hooks Documentation</title>
    <style>
      section {
        margin-bottom: 50px;
        border-top: 2px solid #ccc;
      }
      section:first-child {
        border-top: 0 none;
      }
    </style>
  </head>
  <body>
    <style>
    nav ul {
      list-style-type: none;
    }
    nav ul li {
      list-style-type: none;
      display: inline;
      margin: 0 15px;
    }
    </style>
    <nav>
      <ul>
        <li><a href="beehive---google-analytics-hooks-doc.html">Beehive - Google Analytics</a></li>
        <li><a href="branda-hooks-doc.html">Branda</a></li>
        <li><a href="defender-hooks-doc.html">Defender</a></li>
        <li><a href="forminator-hooks-doc.html">Forminator</a></li>
        <li><a href="hummingbird-hooks-doc.html">Hummingbird</a></li>
        <li><a href="hustle-hooks-doc.html">Hustle</a></li>
        <li><a href="shipper-hooks-doc.html">Shipper</a></li>
        <li><a href="smartcrawl-seo-hooks-doc.html">SmartCrawl SEO</a></li>
        <li><a href="smush-hooks-doc.html">Smush</a></li>
        <li><a href="snapshot-hooks-doc.html">Snapshot</a></li>
        <li><a href="wpmu-dev-dashboard-hooks-doc.html">WPMU DEV Dashboard</a></li>
      </ul>
    <nav>

    <h1>Smush Hooks Documentation</h1><p>Total hooks: 73<br>Undocumented hooks: 29</p><section class="hook"><h3>1. wdev-register-plugin</h3><p>Type: action</p><p>If we are activating a version, while having another present and activated.</p><p>&lt;p&gt;Leave in the Pro version, if it is available.&lt;/p&gt;</p><p>Arguments: WP_SMUSH_BASENAME, 'Smush', '/plugins/wp-smushit/', 'Get Fast!', '4b14b58816'</p></section><section class="hook"><h3>2. wp_smush_settings</h3><p>Type: filter</p><p>Allow to add other settings via filtering the variable</p><p>&lt;p&gt;Like Nextgen and S3 integration&lt;/p&gt;</p><p>Arguments: $this->settings</p></section><section class="hook"><h3>3. smush_skip_image_from_lazy_load</h3><p>Type: filter</p><p>Filter to skip a single image from lazy load.</p><p>Arguments: false, $src</p><h4>Arguments:</h4><ul><li><p><code>$skip</code> - <code>bool</code><br>Should skip? Default: false.</p></li><li><p><code>$src</code> - <code>string</code><br>Image url.</p></li></ul></section><section class="hook"><h3>4. wp_smush_lazy_load_classes</h3><p>Type: filter</p><p>Check if some image formats are excluded.</p><p>Arguments: $class</p></section><section class="hook"><h3>5. smush_file_exists</h3><p>Type: action</p><p>Allows S3 to hook, check and download the file</p><p>Arguments: $backup_full_path, $attachment_id, array()</p></section><section class="hook"><h3>6. wp_smush_image_url_updated</h3><p>Type: action</p><p>Perform a action after the image URL is updated in post content</p><p>Arguments: $image_id, $file_path, $original_file</p></section><section class="hook"><h3>7. wp_smush_image</h3><p>Type: filter</p><p>Filter: wp_smush_image.</p><p>&lt;p&gt;Whether to smush the given attachment ID or not.&lt;/p&gt;</p><p>Arguments: true, $attachment_id</p><h4>Arguments:</h4><ul><li><p><code>$status</code> - <code>bool</code><br>Smush all attachments by default.</p></li><li><p><code>$attachment_id</code> - <code>int</code><br>Attachment ID.</p></li></ul></section><section class="hook"><h3>8. wp_smush_image</h3><p>Type: filter</p><p>Filter: wp_smush_image</p><p>&lt;p&gt;Whether to smush the given attachment id or not&lt;/p&gt;</p><p>Arguments: true, $attachment_id</p><h4>Arguments:</h4><ul><li><p><code>$skip</code> - <code>bool</code><br>Whether to Smush image or not.</p></li><li><p><code>$attachment_id</code> - <code>int</code><br>Attachment ID of the image being processed.</p></li></ul></section><section class="hook"><h3>9. smush_file_exists</h3><p>Type: action</p><p>No description</p><p>Arguments: $attachment_file_path, $attachment_id</p></section><section class="hook"><h3>10. wp_smush_resize_media_image</h3><p>Type: filter</p><p>Resize the dimensions of the image.</p><p>&lt;p&gt;Filter whether the existing image should be resized or not&lt;/p&gt;</p><p>Arguments: true, $attachment_id</p><h4>Arguments:</h4><ul><li><p><code>$should_resize</code> - <code>bool</code><br>Set to True by default.</p></li><li><p><code>$attachment_id</code> - <code>int</code><br>Image Attachment ID.</p></li></ul></section><section class="hook"><h3>11. image_smushed</h3><p>Type: action</p><p>No description</p><p>Arguments: $attachment_id, $stats</p></section><section class="hook"><h3>12. wphb_clear_page_cache</h3><p>Type: action</p><p>No description</p><p>Arguments: <em>none</em></p></section><section class="hook"><h3>13. wp_smush_should_skip_parse</h3><p>Type: filter</p><p>Internal filter to disable page parsing.</p><p>&lt;p&gt;Because the page parser module is universal, we need to make sure that all modules have the ability to skip parsing of certain pages. For example, lazy loading should skip if_preview() pages. In order to achieve this functionality, I've introduced this filter. Filter priority can be used to overwrite the $skip param.&lt;/p&gt;</p><p>Arguments: false</p><h4>Arguments:</h4><ul><li><p><code>$skip</code> - <code>bool</code><br>Skip status.</p></li></ul></section><section class="hook"><h3>14. smush_skip_image_from_cdn</h3><p>Type: filter</p><p>Filter to skip a single image from cdn.</p><p>Arguments: false, $src, $image</p><h4>Arguments:</h4><ul><li><p><code>$skip</code> - <code>bool</code><br>Should skip? Default: false.</p></li><li><p><code>$src</code> - <code>string</code><br>Image url.</p></li><li><p><code>$image</code> - <code>array, bool</code><br>Image tag or false.</p></li></ul></section><section class="hook"><h3>15. smush_cdn_image_tag</h3><p>Type: filter</p><p>Filter hook to alter image tag before replacing the image in content.</p><p>Arguments: $new_image</p><h4>Arguments:</h4><ul><li><p><code>$image</code> - <code>string</code><br>Image tag.</p></li></ul></section><section class="hook"><h3>16. smush_skip_background_image_from_cdn</h3><p>Type: filter</p><p>Filter to skip a single image from cdn.</p><p>Arguments: false, $src, $image</p><h4>Arguments:</h4><ul><li><p><code>$skip</code> - <code>bool</code><br>Should skip? Default: false.</p></li><li><p><code>$src</code> - <code>string</code><br>Image url.</p></li><li><p><code>$image</code> - <code>array, bool</code><br>Image tag or false.</p></li></ul></section><section class="hook"><h3>17. smush_image_cdn_args</h3><p>Type: filter</p><p>Filter hook to alter image src arguments before going through cdn.</p><p>Arguments: array(), $image</p><h4>Arguments:</h4><ul><li><p><code>$args</code> - <code>array</code><br>Arguments.</p></li><li><p><code>$src</code> - <code>string</code><br>Image src.</p></li><li><p><code>$image</code> - <code>string</code><br>Image tag.</p></li></ul></section><section class="hook"><h3>18. smush_image_src_before_cdn</h3><p>Type: filter</p><p>Filter hook to alter image src before going through cdn.</p><p>Arguments: $src, $image</p><h4>Arguments:</h4><ul><li><p><code>$src</code> - <code>string</code><br>Image src.</p></li><li><p><code>$image</code> - <code>string</code><br>Image tag.</p></li></ul></section><section class="hook"><h3>19. smush_image_src_after_cdn</h3><p>Type: filter</p><p>Filter hook to alter image src after replacing with CDN base.</p><p>Arguments: $src, $image</p><h4>Arguments:</h4><ul><li><p><code>$src</code> - <code>string</code><br>Image src.</p></li><li><p><code>$image</code> - <code>string</code><br>Image tag.</p></li></ul></section><section class="hook"><h3>20. smush_cdn_skip_image</h3><p>Type: filter</p><p>No description</p><p>Arguments: false, $source['url'], $source</p></section><section class="hook"><h3>21. smush_srcset_additional_multipliers</h3><p>Type: filter</p><p>Filter to add/update/bypass additional srcsets.</p><p>&lt;p&gt;If empty value or false is retured, additional srcset will not be generated.&lt;/p&gt;</p><p>Arguments: array(0.2, 0.4, 0.6, 0.8, 1, 2, 3)</p><h4>Arguments:</h4><ul><li><p><code>$additional_multipliers</code> - <code>array, bool</code><br>Additional multipliers.</p></li></ul></section><section class="hook"><h3>22. smush_skip_image_from_cdn</h3><p>Type: filter</p><p>No description</p><p>Arguments: false, $url, false</p></section><section class="hook"><h3>23. wp_async_{$this->action}</h3><p>Type: action</p><p>No description</p><p>Arguments: $postid, $_POST</p></section><section class="hook"><h3>24. wp_smush_get_admin_path</h3><p>Type: filter</p><p>To be stored in DB, Part of code inspired from Ewwww Optimiser</p><p>Arguments: $admin_path</p></section><section class="hook"><h3>25. wp_smush_skip_folder</h3><p>Type: filter</p><p>No description</p><p>Arguments: $skip, $path</p></section><section class="hook"><h3>26. wp_smush_convert_to_jpg</h3><p>Type: filter</p><p>Filter whether to convert the PNG to JPG or not</p><p>Arguments: $should_convert, $id, $file, $size</p><h4>Arguments:</h4><ul><li><p><code>$should_convert</code> - <code>bool</code><br>Current choice for image conversion</p></li><li><p><code>$id</code> - <code>int</code><br>Attachment id</p></li><li><p><code>$file</code> - <code>string</code><br>File path for the image</p></li><li><p><code>$size</code> - <code>string</code><br>Image size being converted</p></li></ul></section><section class="hook"><h3>27. wp_smush_image_url_changed</h3><p>Type: action</p><p>Perform a action after the image URL is updated in post content</p><p>Arguments: $id, $file, $n_file, $size</p></section><section class="hook"><h3>28. wp_smush_png_jpg_converted</h3><p>Type: action</p><p>Do action, if the PNG to JPG conversion was successful</p><p>Arguments: $id, $meta, $savings</p></section><section class="hook"><h3>29. wp_smush_bg</h3><p>Type: filter</p><p>Filter Background Color for Transparent PNGs</p><p>Arguments: $transparent_png['background'], $id, $size</p></section><section class="hook"><h3>30. wp_smush_image_url_changed</h3><p>Type: action</p><p>Perform a action after the image URL is updated in post content</p><p>Arguments: $id, $file, $n_file, $size</p></section><section class="hook"><h3>31. wp_smush_error</h3><p>Type: filter</p><p>Used internally to modify the error message</p><p>Arguments: $error, $attachment_id</p></section><section class="hook"><h3>32. wp_smush_format_attachment_meta_item</h3><p>Type: filter</p><p>Allows to format single item in meta.</p><p>&lt;p&gt;This filter will be used only for Async, post requests.&lt;/p&gt;</p><p>Arguments: $value, $key</p><h4>Arguments:</h4><ul><li><p><code>$value</code> - <code>mixed</code><br>Meta item value.</p></li><li><p><code>$key</code> - <code>string</code><br>Meta item key.</p></li></ul></section><section class="hook"><h3>33. wp_smush_query_limit</h3><p>Type: filter</p><p>No description</p><p>Arguments: 2000</p></section><section class="hook"><h3>34. wp_smush_nextgen_query_limit</h3><p>Type: filter</p><p>No description</p><p>Arguments: 1000</p></section><section class="hook"><h3>35. wp_smush_max_rows</h3><p>Type: filter</p><p>Do not fetch more than this, any time Localizing all rows at once increases the page load and slows down everything</p><p>Arguments: 5000</p></section><section class="hook"><h3>36. wp_smush_resmush_mime_supported</h3><p>Type: filter</p><p>Initialize class variables, after all stuff has been loaded</p><p>Arguments: $mime_supported, $mime</p></section><section class="hook"><h3>37. wp_smush_resize_uploaded_image</h3><p>Type: filter</p><p>Filter whether the uploaded image should be resized or not</p><p>Arguments: $should_resize, $id, $meta</p><h4>Arguments:</h4><ul><li><p><code>$should_resize</code> - <code>bool</code><br></p></li><li><p><code>$upload</code> - <code>array</code><br>{    Array of upload data.</p></li><li><p><code>$context</code> - <code>string</code><br>The type of upload action. Values include 'upload' or 'sideload'.</p></li></ul></section><section class="hook"><h3>38. wp_smush_image_resized</h3><p>Type: action</p><p>Called after the image has been successfully resized Can be used to update the stored stats</p><p>Arguments: $id, $savings</p></section><section class="hook"><h3>39. wp_smush_resize_sizes</h3><p>Type: filter</p><p>Filter the resize image dimensions</p><p>Arguments: array('width' => $this->max_w, 'height' => $this->max_h), $file_path, $id</p><h4>Arguments:</h4><ul><li><p><code>$sizes</code> - <code>array</code><br>{    Array of sizes containing max width and height for all the uploaded images.</p></li><li><p><code>$file_path</code> - <code>string</code><br>Original Image file path</p></li><li><p><code>$upload</code> - <code>array</code><br>{    Array of upload data.</p></li></ul></section><section class="hook"><h3>40. smush_async_time_out</h3><p>Type: filter</p><p>No description</p><p>Arguments: 0</p></section><section class="hook"><h3>41. smush_backup_exists</h3><p>Type: filter</p><p>No description</p><p>Arguments: file_exists($backup), $image_id, $backup</p></section><section class="hook"><h3>42. smush_file_exists</h3><p>Type: action</p><p>Allows S3 to hook over here and check if the given file path exists else download the file.</p><p>Arguments: $attachment_file_path_size, $id, $size_data</p></section><section class="hook"><h3>43. wp_smush_media_image</h3><p>Type: filter</p><p>No description</p><p>Arguments: true, $size_key</p></section><section class="hook"><h3>44. wp_smush_media_image</h3><p>Type: filter</p><p>No description</p><p>Arguments: true, 'full'</p></section><section class="hook"><h3>45. wp_smush_image_optimised</h3><p>Type: action</p><p>Runs if the image smushing was successful</p><p>Arguments: $id, $stats, $meta</p><h4>Arguments:</h4><ul><li><p><code>$id</code> - <code>int</code><br>Image Id</p></li><li><p><code>$stats</code> - <code>array</code><br>Smush Stats for the image</p></li><li><p><code>$meta</code> - <code>array</code><br>Attachment meta.</p></li></ul></section><section class="hook"><h3>46. wp_smush_image</h3><p>Type: filter</p><p>Filter: wp_smush_image</p><p>&lt;p&gt;Whether to smush the given attachment id or not&lt;/p&gt;</p><p>Arguments: true, $id</p><h4>Arguments:</h4><ul><li><p><code>$skip</code> - <code>bool</code><br>Bool, whether to Smush image or not.</p></li><li><p><code>$ID</code> - <code>int</code><br>Attachment Id, Attachment id of the image being processed.</p></li></ul></section><section class="hook"><h3>47. smush_file_exists</h3><p>Type: action</p><p>Fix for Hostgator.</p><p>&lt;p&gt;Check for use of http url (Hostgator mostly).&lt;/p&gt;</p><p>Arguments: $attachment_file_path, $attachment_id</p></section><section class="hook"><h3>48. wp_smush_image</h3><p>Type: filter</p><p>Filter: wp_smush_image</p><p>&lt;p&gt;Whether to smush the given attachment id or not&lt;/p&gt;</p><p>Arguments: true, $id</p><h4>Arguments:</h4><ul><li><p><code>$skip</code> - <code></code><br>bool, whether to Smush image or not</p></li><li><p><code>$Attachment</code> - <code></code><br>Id, Attachment id of the image being processed</p></li></ul></section><section class="hook"><h3>49. wp_smush_image</h3><p>Type: filter</p><p>Filter: wp_smush_image</p><p>&lt;p&gt;Whether to smush the given attachment id or not&lt;/p&gt;</p><p>Arguments: true, $id</p><h4>Arguments:</h4><ul><li><p><code>$skip</code> - <code>bool</code><br>Whether to Smush image or not.</p></li><li><p><code>$id</code> - <code>int</code><br>Attachment ID of the image being processed.</p></li></ul></section><section class="hook"><h3>50. wp_async_{$this->action}</h3><p>Type: action</p><p>AJAX Thumbnail Rebuild integration.</p><p>Arguments: $id</p></section><section class="hook"><h3>51. smush_nextgen_auto</h3><p>Type: filter</p><p>No description</p><p>Arguments: \WP_Smush::get_instance()->core()->mod->smush->is_auto_smush_enabled()</p></section><section class="hook"><h3>52. wp_smush_nextgen_image</h3><p>Type: filter</p><p>No description</p><p>Arguments: true, $size</p></section><section class="hook"><h3>53. wp_smush_image_optimised_nextgen</h3><p>Type: action</p><p>Runs if the image smushing was successful</p><p>Arguments: $image->pid, $stats</p><h4>Arguments:</h4><ul><li><p><code>$ID</code> - <code>int</code><br>Image Id</p></li><li><p><code>$stats</code> - <code>array</code><br>Smush Stats for the image</p></li></ul></section><section class="hook"><h3>54. wp_smush_nextgen_image_stats</h3><p>Type: action</p><p>No description</p><p>Arguments: $image->pid, $stats</p></section><section class="hook"><h3>55. wp_smush_resmush_mime_supported</h3><p>Type: filter</p><p>No description</p><p>Arguments: $mime_supported, $ext</p></section><section class="hook"><h3>56. wp_smush_resize_nextgen_image</h3><p>Type: filter</p><p>Filter whether the NextGen image should be resized or not</p><p>Arguments: $should_resize, $image, $meta</p><h4>Arguments:</h4><ul><li><p><code>$should_resize</code> - <code>bool</code><br></p></li><li><p><code></code> - <code>object</code><br>NextGen Gallery image object</p></li><li><p><code></code> - <code>array</code><br>NextGen Gallery image object</p></li><li><p><code>$context</code> - <code>string</code><br>The type of upload action. Values include 'upload' or 'sideload'.</p></li></ul></section><section class="hook"><h3>57. wp_smush_image_nextgen_resized</h3><p>Type: action</p><p>Called after the image has been successfully resized Can be used to update the stored stats</p><p>Arguments: $attachment_id, array('stats' => $savings)</p></section><section class="hook"><h3>58. wp_smush_image_resized</h3><p>Type: action</p><p>Called after the image has been successfully resized Can be used to update the stored stats</p><p>Arguments: $attachment_id, $savings</p></section><section class="hook"><h3>59. wp_smush_nextgen_image_stats</h3><p>Type: action</p><p>No description</p><p>Arguments: $image_id, $stats</p></section><section class="hook"><h3>60. smush_retina_images</h3><p>Type: filter</p><p>Allows to Enable/Disable WP Retina 2x Integration</p><p>Arguments: true</p></section><section class="hook"><h3>61. wp_smush_media_image</h3><p>Type: filter</p><p>No description</p><p>Arguments: true, $image_size</p></section><section class="hook"><h3>62. wp_smush_enqueue</h3><p>Type: filter</p><p>Do not enqueue, unless it is one of the required screen, or not in WordPress backend.</p><p>Arguments: true</p></section><section class="hook"><h3>63. smush_backup_exists</h3><p>Type: filter</p><p>No description</p><p>Arguments: file_exists($backup), $image_id, $backup</p></section><section class="hook"><h3>64. wp_smush_admin_page_tabs_{$this->slug}</h3><p>Type: filter</p><p>No description</p><p>Arguments: $this->tabs</p></section><section class="hook"><h3>65. wp_smush_admin_do_meta_boxes_{$this->slug}</h3><p>Type: action_reference</p><p>No description</p><p>Arguments: array(&$this)</p></section><section class="hook"><h3>66. wp_smush_header_notices</h3><p>Type: action</p><p>No description</p><p>Arguments: <em>none</em></p></section><section class="hook"><h3>67. wpmudev_branding_hide_branding</h3><p>Type: filter</p><p>No description</p><p>Arguments: false</p></section><section class="hook"><h3>68. wpmudev_branding_hide_doc_link</h3><p>Type: filter</p><p>No description</p><p>Arguments: false</p></section><section class="hook"><h3>69. smush_setting_tabs</h3><p>Type: filter</p><p>No description</p><p>Arguments: array('bulk' => 'Bulk Smush', 'directory' => 'Directory Smush', 'integrations' => 'Integrations', 'lazy_load' => 'Lazy Load', 'cdn' => 'CDN', 'tools' => 'Tools', 'settings' => 'Settings')</p></section><section class="hook"><h3>70. wp_smush_after_stats_box</h3><p>Type: action</p><p>Allows to hook in additional containers after stats box for free version Pro Version has a full width settings box, so we don't want to do it there.</p><p>Arguments: <em>none</em></p></section><section class="hook"><h3>71. smush_setting_column_tag</h3><p>Type: action</p><p>No description</p><p>Arguments: $name</p></section><section class="hook"><h3>72. smush_setting_column_right_inside</h3><p>Type: action</p><p>No description</p><p>Arguments: $name</p></section><section class="hook"><h3>73. smush_setting_column_right_outside</h3><p>Type: action</p><p>No description</p><p>Arguments: $name</p></section>
  </body>
</html>
